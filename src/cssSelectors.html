<!-- // Input:
// <div id="root">
//   <article>Prepare for interview</article>
//   <section>
//     on
//     <p>
//       <span>
//         Learnersbucket 
//         <button>click me!</button>
//         <button id="target">click me!</button>
//       </span>
//     </p>
//   </section>
// </div>

// const root = document.getElementById("root");
// const target = document.getElementById("target");
// console.log(generateSelector(root, target));

// Output:
// "div[id='root'] > section:nth-child(2) > p:nth-child(1) > span:nth-child(1) > button:nth-child(2)" -->


  <div id="root">
   <article>Prepare for interview</article>
   <section>
     on
     <p>
       <span>
         Learnersbucket 
         <button>click me!</button>
         <button id="target">click me!</button>
       </span>
     </p>
   </section>
 </div>

 <script defer>
function generateSelector(root, target){
    // generate path from target to root
    
    const selectors = [];

    const getNodeTag = (node) => {
        return `${node.tagName}:nth-child(${Array.from(node.parentNode.children).indexOf(node)+1})`;
    }

    while(root !== target){
        selectors.unshift(getNodeTag(target));
        target = target.parentNode;
    }

    selectors.unshift(`${root.tagName}[id=${root.id}]`);

    return selectors.join('>');
 }
    const root = document.getElementById("root");
    const target = document.getElementById("target");
    console.log(generateSelector(root, target));
 </script>